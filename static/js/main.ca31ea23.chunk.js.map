{"version":3,"sources":["components/MovieTabs.jsx","components/MovieItem.jsx","components/Pages.jsx","components/App.jsx","components/api.js","index.js"],"names":["MovieTabs","props","sort_by","updateSortBy","handleClick","value","getClassName","className","onClick","MovieItem","state","willWatch","this","data","deleteMovie","addMovieToWillWatch","deleteMovieFromWillWatch","src","backdrop_path","poster_path","alt","title","vote_average","type","setState","React","Component","Pages","pages","total_page","updatePage","App","movie","console","log","id","updateMovies","movies","filter","item","updateMoviesWillWatch","moviesWillWatch","push","page","getMovies","fetch","then","response","json","results","total_pages","prevProps","prevState","map","key","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ca31ea23.chunk.js","sourcesContent":["import React from 'react'\r\nconst MovieTabs = (props) =>{\r\n    const {sort_by,updateSortBy}=props;\r\n    const handleClick =value =>()=>updateSortBy(value)\r\nconst getClassName = value =>{\r\n    return `nav-link ${sort_by===value?'active':''}`\r\n}\r\n    return (\r\n        <div>\r\n            <ul className=\"tabs nav nav-pills\">\r\n                <li className=\"nav-item\">\r\n                    <div className={getClassName('popularity.desc')}\r\n                    onClick={handleClick('popularity.desc')\r\n                    }\r\n                    >Popularity desc</div>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                    <div className={getClassName('revenue.desc')}\r\n                      onClick={handleClick('revenue.desc')\r\n                    }\r\n                    >Revenue desc</div>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                    <div className={getClassName('vote_average.desc')}\r\n                       onClick={handleClick('vote_average.desc')\r\n                    }\r\n                    >Vote Average desc</div>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\nexport default MovieTabs","import React from \"react\";\r\n\r\nclass MovieItem extends React.Component {\r\n  state = {\r\n    willWatch: false\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      data,\r\n      deleteMovie,\r\n      addMovieToWillWatch,\r\n      deleteMovieFromWillWatch\r\n    } = this.props;\r\n    // props.data = {};\r\n    return (\r\n      <div className=\"card\">\r\n        <img\r\n          className=\"card-img-top\"\r\n          src={`https://image.tmdb.org/t/p/w500${data.backdrop_path ||\r\n            data.poster_path}`}\r\n          alt=\"\"\r\n        />\r\n        <div className=\"card-body\">\r\n          <h6 className=\"card-title\">{data.title}</h6>\r\n          <div className=\"d-flex justify-content-between align-items-center\">\r\n            <p className=\"mb-0\">Rating: {data.vote_average}</p>\r\n            {this.state.willWatch ? (\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-success\"\r\n                onClick={() => {\r\n                  this.setState({\r\n                    willWatch: false\r\n                  });\r\n                  deleteMovieFromWillWatch(data);\r\n                }}\r\n              >\r\n                Will Watch\r\n              </button>\r\n            ) : (\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-secondary\"\r\n                  onClick={() => {\r\n                    this.setState({\r\n                      willWatch: true\r\n                    });\r\n                    addMovieToWillWatch(data);\r\n                  }}\r\n                >\r\n                  Will Watch\r\n              </button>\r\n              )}\r\n          </div>\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => {\r\n              deleteMovie(data);\r\n            }}\r\n          >\r\n            Delete\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MovieItem;\r\n","import React from 'react'\r\nconst Pages = (props) =>{\r\n    const {pages,total_page,updatePage}=props;\r\n\r\n  \r\n    return(\r\n        <div>\r\n            <button>\r\n{pages}\r\n            </button>\r\n            <button>\r\n{total_page}\r\n            </button>\r\n            <button\r\n            >\r\nnext\r\n            </button>\r\n            <button\r\n            >\r\nprev\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\nexport default Pages\r\n// запустити функцыю пр  клыу ка обновляэ значення","import React from \"react\";\r\nimport { moviesData } from \"../moviesData\";\r\nimport MovieTabs from './MovieTabs'\r\nimport MovieItem from \"./MovieItem\";\r\nimport {API_URL,API_KEY_3,API_KEY_4} from './api'\r\nimport Pages from './Pages'\r\n// UI = fn(state, props)\r\n\r\n// App = new React.Component()\r\n\r\nclass App extends React.Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      movies: [],\r\n      moviesWillWatch: [],\r\n      sort_by: 'popularity.desc',\r\n      page:'',\r\n      total_page:''\r\n    };\r\n  }\r\n\r\n  deleteMovie = movie => {\r\n    console.log(movie.id);\r\n    const updateMovies = this.state.movies.filter(item => item.id !== movie.id);\r\n    console.log(updateMovies);\r\n\r\n    // this.state.movies = updateMovies;\r\n    this.setState({\r\n      movies: updateMovies\r\n    });\r\n  };\r\n\r\n  addMovieToWillWatch = movie => {\r\n    const updateMoviesWillWatch = [...this.state.moviesWillWatch];\r\n    updateMoviesWillWatch.push(movie);\r\n\r\n    this.setState({\r\n      moviesWillWatch: updateMoviesWillWatch\r\n    });\r\n  };\r\n\r\n  deleteMovieFromWillWatch = movie => {\r\n    const updateMoviesWillWatch = this.state.moviesWillWatch.filter(\r\n      item => item.id !== movie.id\r\n    );\r\n\r\n    this.setState({\r\n      moviesWillWatch: updateMoviesWillWatch\r\n    });\r\n  };\r\ncomponentDidMount(){\r\nthis.getMovies();\r\n}\r\ngetMovies(){\r\n  fetch(`${API_URL}/discover/movie?api_key=${API_KEY_3}&sort_by=${this.state.sort_by}&page=${this.state.page}`)\r\n  .then((response)=>{\r\n    console.log(response)\r\n    return response.json();\r\n    \r\n  })\r\n  .then((data)=>{\r\n    console.log(data)\r\n    console.log(data.results)\r\n    this.setState({movies:data.results,page:data.page,total_page:data.total_pages})\r\nconsole.log(this.state)\r\n  })\r\n}\r\ncomponentDidUpdate(prevProps,prevState){\r\nconsole.log('didupdate');\r\nconsole.log(prevProps,prevState)\r\nconsole.log(this.props,this.state);\r\nif(prevState.sort_by!==this.state.sort_by){\r\n  this.getMovies();\r\n}\r\n\r\n}\r\nupdateSortBy = value =>{\r\n  this.setState({sort_by:value})\r\n  \r\n}\r\n\r\n  render() {\r\n    console.log(\"render\", this);\r\n    return (\r\n\r\n      <div className=\"container\">\r\n        <div className=\"row mt-4\">\r\n          <div className=\"col-9\">\r\n            <div className=\"row mb-4\">\r\n            <MovieTabs sort_by={this.state.sort_by}\r\n            updateSortBy={this.updateSortBy}/>\r\n            </div>\r\n            <div className=\"row\">\r\n              {this.state.movies.map(movie => {\r\n                return (\r\n                  <div className=\"col-6 mb-4\" key={movie.id}>\r\n                    <MovieItem\r\n                      data={movie}\r\n                      deleteMovie={this.deleteMovie}\r\n                      addMovieToWillWatch={this.addMovieToWillWatch}\r\n                      deleteMovieFromWillWatch={this.deleteMovieFromWillWatch}\r\n                    />\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n          <div className=\"col-3\">\r\n            <h4>Will Watch: {this.state.moviesWillWatch.length} movies</h4>\r\n            <p>pagination: {this.state.page}</p>\r\n            <ul className=\"list-group\">\r\n              {this.state.moviesWillWatch.map(movie => (\r\n                <li key={movie.id} className=\"list-group-item\">\r\n                  <div className=\"d-flex justify-content-between\">\r\n                    <p>{movie.title}</p>\r\n                    <p>{movie.vote_average}</p>\r\n                  </div>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n          <Pages pages={this.state.page} total_page={this.state.total_page} updatePage={this.updatePage}/>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","export const API_URL ='https://api.themoviedb.org/3';\r\nexport const API_KEY_3 ='1cb065e41d335794cfb1ff6a261c76bd';\r\nexport const API_KEY_4 ='eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIxY2IwNjVlNDFkMzM1Nzk0Y2ZiMWZmNmEyNjFjNzZiZCIsInN1YiI6IjVlOTMzMTNiODc1ZDFhMDAxOTQ0MzA2ZCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.ZarKRDvqDI0hz2eibWuijxJL721iT-kXVxS7NAS_4Os';\r\n\r\n\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"./stylesheets/index.scss\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}